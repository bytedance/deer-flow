# DeerFlow Project Structure

## Core Directories

### `/src` - Main Source Code
- `/src/agents` - Agent definitions and creation logic
- `/src/config` - Configuration loading and management
- `/src/crawler` - Web crawling and content extraction
- `/src/graph` - LangGraph workflow definitions
  - `builder.py` - Graph construction
  - `nodes.py` - Node implementations for the workflow
  - `types.py` - Type definitions for the graph
- `/src/llms` - LLM integration and management
- `/src/podcast` - Podcast generation functionality
- `/src/ppt` - PowerPoint presentation generation
- `/src/prompt_enhancer` - Prompt enhancement functionality
- `/src/prompts` - System prompts for different agents
- `/src/prose` - Text generation and manipulation
- `/src/rag` - Retrieval-augmented generation implementation
- `/src/server` - API server implementation
- `/src/tools` - Tool implementations for agents
- `/src/utils` - Utility functions

### `/web` - Frontend Web UI
- `/web/src/app` - Next.js application
- `/web/src/components` - React components
- `/web/src/core` - Core functionality and state management
- `/web/public` - Static assets and example files

### `/docs` - Documentation
- `FAQ.md` - Frequently asked questions
- `configuration_guide.md` - Configuration instructions
- `mcp_integrations.md` - MCP integration documentation

### `/examples` - Example Research Reports
Contains markdown files with example research reports generated by DeerFlow

### `/tests` - Test Suite
- `/tests/integration` - Integration tests
- `/tests/unit` - Unit tests organized by module

## Key Files

### Root Configuration
- `main.py` - Entry point for console UI
- `server.py` - Entry point for API server
- `conf.yaml` - Main configuration file
- `.env` - Environment variables
- `pyproject.toml` - Python project configuration
- `Dockerfile` - Docker configuration
- `docker-compose.yml` - Docker Compose configuration

### Graph Workflow
- `src/graph/builder.py` - Constructs the workflow graph
- `src/graph/nodes.py` - Implements the agent nodes
- `src/workflow.py` - Main workflow execution logic

### Agent System
- `src/agents/agents.py` - Agent creation and configuration
- `src/config/agents.py` - Agent configuration

## Architecture Pattern

DeerFlow follows a multi-agent architecture pattern with:

1. **Graph-based Workflow**: Uses LangGraph for state management and agent orchestration
2. **Node-based Processing**: Each agent is implemented as a node in the graph
3. **Message Passing**: Agents communicate through a structured message passing system
4. **Tool Integration**: Agents use tools for specific capabilities (search, crawling, code execution)
5. **MCP Extension**: Functionality can be extended through Model Context Protocol integrations

## Code Style Conventions

- Python 3.12+ features are used throughout the codebase
- Black formatting with 88 character line length
- Type hints are used for function parameters and return values
- Docstrings follow Google style
- Error handling with appropriate logging
- Configuration through YAML and environment variables